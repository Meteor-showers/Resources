function convertToJsDelivr(){const match=document.getElementById("githubUrl").value.match(/https:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([^\/]+)\/(.+)/);if(match){const jsDelivrUrl=`https://cdn.jsdelivr.net/gh/${match[1]}/${match[2]}@${match[3]}/${match[4]}`;document.getElementById("result").innerHTML=`<p>转换后的jsDelivr链接：</p><a href="${jsDelivrUrl}" target="_blank">${jsDelivrUrl}</a><button class="copy-btn" onclick="copyToClipboard('${jsDelivrUrl}', this)">复制</button>`,document.getElementById("result").style.display="block"}else document.getElementById("result").innerHTML="<p>请输入有效的GitHub文件地址。💣💣💣</p>",document.getElementById("result").style.display="block",setTimeout((()=>{document.getElementById("result").style.display="none"}),1e3)}function copyToClipboard(text,button){navigator.clipboard.writeText(text).then((()=>{button.innerText="已复制"})).catch((err=>{alert("复制失败，请手动复制")}))}function clearResult(){""===document.getElementById("githubUrl").value?document.getElementById("result").style.display="none":document.getElementById("result").innerHTML=""}function handleKeyPress(event){"Enter"===event.key&&convertToJsDelivr()}function getQueryParams(){const params=new URLSearchParams(window.location.search);for(const param of params.entries())if(param[0].startsWith("https://github.com/"))return param[0];return""}window.onload=()=>{const githubUrl=getQueryParams();githubUrl&&(document.getElementById("githubUrl").value=githubUrl,convertToJsDelivr())};